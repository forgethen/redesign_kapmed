{"version":3,"names":[],"mappings":"","sources":["tabs.js"],"sourcesContent":["\n//Табы\n$(document).on(\"click\", \".tabs__header--left\", function(){\n\tif($(window).outerWidth() > 500){\n\t\tvar parent = $(this).closest(\".tabs\");\n\t\tvar items = parent.find(\".tabs__header__item\");\n\t\tvar container = parent.find(\".tabs__header__items\");\n\t\tvar scrollLeft = container.scrollLeft();\n\t\tvar margin = ($(window).outerWidth() <= 1000) ? 24 : 48;\n\t\tvar buttonWidth = ($(window).outerWidth() <= 1000) ? 36 : 60;\n\n\t\tvar leftPos = 0;\n\n\t\t$.each(items, function(index, el) {\n\t\t\tif(leftPos < scrollLeft){\n\t\t\t\tleftPos += $(this).outerWidth() + margin;\n\t\t\t\tif(index == 0){\n\t\t\t\t\tleftPos -= buttonWidth;\n\t\t\t\t}\n\t\t\t} else{\n\t\t\t\tleftPos -= $(items[index - 1]).outerWidth() + margin;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tcontainer.animate({scrollLeft: leftPos}, 300, function(){\n\t\t\tcheckTabs();\n\t\t});\n\t}\n});\n$(document).on(\"click\", \".tabs__header--right\", function(){\n\tif($(window).outerWidth() > 500){\n\t\tvar parent = $(this).closest(\".tabs\");\n\t\tvar items = parent.find(\".tabs__header__item\");\n\t\tvar container = parent.find(\".tabs__header__items\");\n\t\tvar scrollLeft = container.scrollLeft();\n\t\tvar leftPos = 0;\n\t\tvar margin = ($(window).outerWidth() <= 1000) ? 24 : 48;\n\t\tvar buttonWidth = ($(window).outerWidth() <= 1000) ? 36 : 60;\n\n\t\t$.each(items, function(index, el) {\n\t\t\tif(leftPos <= scrollLeft + buttonWidth){\n\t\t\t\tleftPos += $(this).outerWidth() + margin;\n\t\t\t\tif(index == 0){\n\t\t\t\t\tleftPos -= buttonWidth;\n\t\t\t\t}\n\t\t\t} else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tcontainer.animate({scrollLeft: leftPos}, 300, function(){\n\t\t\tcheckTabs();\n\t\t});\n\t}\n});\n$(document).on(\"ps-scroll-x\", \".tabs__header__items\", function(){\n\tcheckTabs();\n});\n$(document).on(\"click\", \".tabs__header__item\", function() {\n\tvar item = $(this).attr(\"data-item\");\n\tvar parent = $(this).closest(\".tabs\");\n\tvar buttonWidth = ($(window).outerWidth() <= 1000) ? 36 : 60;\n\tvar itemPosLeft = $(this).position().left;\n\tvar itemWidth = $(this).outerWidth();\n\tvar tabsEl = parent.find(\".tabs__header__items\");\n\n\tparent.find(\".tabs__header__item\").removeClass(\"active\");\n\tparent.find(\".tabs__header__item[data-item=\" + item + \"]\").addClass(\"active\");\n\n\tparent.find(\".tabs__body__item:visible\").stop().fadeOut(300, function() {\n\t\tparent.find(\".tabs__body__item[data-item=\" + item + \"]\").stop().fadeIn(300);\n\t\tif(parent.find(\".tabs__body__item[data-item=\" + item + \"]\").find(\".slick-slider\").length){\n\t\t\tparent.find(\".tabs__body__item[data-item=\" + item + \"]\").find(\".slick-slider\").slick('refresh');\n\t\t}\n\t\tif(navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > 0) {\n\t\t\tvar evt = document.createEvent('UIEvents');\n\t\t\tevt.initUIEvent('resize', true, false, window, 0);\n\t\t\twindow.dispatchEvent(evt);\n\t\t} else {\n\t\t\twindow.dispatchEvent(new Event('resize'));\n\t\t}\n\t});\n\tif($(window).outerWidth() > 500){\n\t\tif(itemPosLeft + itemWidth > tabsEl.outerWidth() || itemPosLeft < 0) {\n\t\t\tvar left = itemPosLeft + tabsEl.scrollLeft() - buttonWidth;\n\t\t\ttabsEl.stop().animate({\"scrollLeft\": left + \"px\"}, 300, function(){\n\t\t\t\tcheckTabs();\n\t\t\t});\n\t\t} else {\n\t\t\tcheckTabs();\n\t\t}\n\t} else{\n\t\tvar text = $(this).text();\n\t\t$(this).closest(\".tabs__header\").find(\".tabs__header__active--text\").html(text);\n\t\t$(this).closest(\".tabs__header__body\").stop().slideUp(300);\n\t\t$(this).closest('.tabs__header').removeClass(\"active\");\n\t}\n});\nfunction checkTabs(){\n\tif($(window).outerWidth() > 500){\n\t\t$(document).find(\".tabs__header\").each(function(index, el) {\n\t\t\tvar parent = $(this).closest(\".tabs\");\n\t\t\tvar items = parent.find(\".tabs__header__item\");\n\t\t\tvar container = parent.find(\".tabs__header__items\");\n\t\t\tvar header = $(this);\n\t\t\tvar leftButton = header.find(\".tabs__header--left\");\n\t\t\tvar rightButton = header.find(\".tabs__header--right\");\n\t\t\tvar scrollLeft = container.scrollLeft();\n\t\t\tvar innerWidth = 0;\n\t\t\tvar margin = ($(window).outerWidth() <= 1000) ? 24 : 48;\n\t\t\tvar padding = ($(window).outerWidth() <= 1000) ? 40 : 0;\n\n\t\t\t$.each(items, function(index, el) {\n\t\t\t\tinnerWidth += $(this).outerWidth() + margin;\n\t\t\t});\n\t\t\tinnerWidth -= margin;\n\n\t\t\tif(innerWidth > container.outerWidth()){\n\t\t\t\tif(scrollLeft > 0){\n\t\t\t\t\tleftButton.addClass(\"active\");\n\t\t\t\t} else{\n\t\t\t\t\tleftButton.removeClass('active');\n\t\t\t\t}\n\n\t\t\t\tif(parseInt(scrollLeft + container.outerWidth()) >= parseInt(innerWidth) + padding){\n\t\t\t\t\trightButton.removeClass(\"active\");\n\t\t\t\t} else {\n\t\t\t\t\trightButton.addClass(\"active\");\n\t\t\t\t}\n\t\t\t} else{\n\t\t\t\trightButton.removeClass(\"active\");\n\t\t\t\tleftButton.removeClass('active');\n\t\t\t}\n\t\t});\n\t}\n}\ncheckTabs();\n$(window).resize(function(event) {\n\tcheckTabs();\n});\n\n$(document).on(\"click\", \".tabs__header__active\", function(){\n\tvar parent = $(this).closest('.tabs__header');\n\tif(parent.hasClass('active')){\n\t\tparent.find(\"a.ui-state-active\").removeClass('ui-state-active');\n\t\tparent.removeClass(\"active\");\n\t\t$(this).closest('.tabs__header').find(\".tabs__header__body\").stop().slideUp(300, function(){\n\t\t\t$(this).css(\"height\", \"auto\");\n\t\t});\n\t} else{\n\t\tparent.find(\"a.ui-state-active\").removeClass('ui-state-active');\n\t\tparent.addClass(\"active\");\n\t\t$(this).closest('.tabs__header').find(\".tabs__header__body\").stop().slideDown(300, function() {\n\t\t\t$(this).closest('.tabs__header').find(\".tabs__header__items\").perfectScrollbar(\"update\");\n\t\t\t$(this).css(\"height\", \"auto\");\n\t\t});\n\t}\n});\n$(document).on(\"click\", \".tabs__header .tabs__header__body a\", function(){\n\tvar parent = $(this).closest('.tabs__header');\n\tvar value = $(this).attr(\"data-value\");\n\tvar text = $(this).text();\n\n\tparent.find(\".tabs__header__body\").find(\".active\").removeClass('active');\n\t$(this).closest('li').addClass('active');\n\n\tparent.find(\".tabs__header__active--text\").text(text);\n\tparent.addClass(\"noempty\");\n\n\tparent.find(\"a.ui-state-active\").removeClass('ui-state-active');\n\tparent.removeClass(\"active\");\n\tif($(window).outerWidth() <= 500){\n\t\t$(this).closest('.tabs__header').find(\".tabs__header__body\").stop().slideUp(300, function(){\n\t\t\t$(this).css(\"height\", \"auto\");\n\t\t});\n\t}\n});\n//Табы END\n"],"file":"tabs.js"}