{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["'use strict';\n\n$(document).ready(function() {\n\n  var menu_selector = \".content_list ul\"; // Переменная должна содержать название класса или идентификатора, обертки нашего меню.\n  var footer = $('#footer').outerHeight();\n  $(\".content_list ul:first-child\").addClass(\"active\");\n\n  function onScroll() {\n    var scroll_top = $(document).scrollTop();\n    if ($(menu_selector + \" a\").length <= 1) return false\n    $(menu_selector + \" a\").each(function() {\n      var hash = $(this).attr(\"href\")\n      try {\n        let prob = $(hash)\n      }\n      catch {\n        return false\n      }\n      var target = $(hash)\n      if (target.position().top <= scroll_top && target.position().top + target.outerHeight() > scroll_top) {\n        $(menu_selector + \" a.active\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n      }\n      // if else() {\n      //\n      // }\n      else {\n        $(this).removeClass(\"active\");\n      }\n    });\n  }\n\n  $(document).on(\"scroll\", onScroll);\n\n  $(\".content_list ul a\").click(function() {\n    $(document).off(\"scroll\");\n    $(menu_selector + \" .active\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n    var hash = $(this).attr(\"href\");\n    var target = $(hash);\n    $(\"html, body\").animate({\n      scrollTop: target.offset().top\n    }, 250, function() {\n      window.location.hash = hash;\n      $(document).on(\"scroll\", onScroll);\n    });\n  });\n\n  $('.custom-select a').click(function() {\n    $('.custom-select a i').addClass('active')\n    $('.custom-select .options').fadeIn();\n  });\n\n  $('.custom-select .options li').click(function() {\n    var thisVal = $(this).html();\n    $('.custom-select .options').fadeOut();\n    $('.custom-select .options .red').removeClass('red')\n    $('.custom-select a span').text(thisVal);\n    $('.custom-select a i').removeClass('active')\n    $(this).addClass('red')\n  })\n\n  $(\"input,textarea\").focus(function() {\n    $(this).data(\"placeholder\", $(this).attr(\"placeholder\")), $(this).attr(\"placeholder\", \"\")\n  });\n\n  $(\"input,textarea\").blur(function() {\n    $(this).attr(\"placeholder\", $(this).data(\"placeholder\"))\n  });\n  $('input[type=\"tel\"]').inputmask(\"+7 (999) 999 99 99\");\n  $('.date input').inputmask(\"99.99.9999\");\n  $('form .dropdown ul').each(function() {\n    var th1 = $(this).find('li:eq(0)').height();\n    var th2 = $(this).find('li:eq(1)').height();\n    $('form .dropdown ul').css('max-height', th1 + th2 + 36 + 'px').hide()\n  })\n  $('form .dropdown input').click(function() {\n    $('.dropdown i').addClass('active')\n    $('form .dropdown ul').fadeIn()\n  })\n  $('form .dropdown ul li').click(function() {\n    var thisVal = $(this).html();\n    $('form .dropdown ul').fadeOut();\n    $('.dropdown i').removeClass('active')\n    $('form .dropdown input').val(thisVal);\n  })\n  $(document).mouseup(function(e) {\n    var container = $(\"form .dropdown ul\");\n    if (container.has(e.target).length === 0) {\n      $(\"form .dropdown ul\").fadeOut();\n      $('.dropdown i').removeClass('active');\n    }\n  });\n  $('ul.content li, .FAQ li').click(function() {\n    $('ul.content li, .FAQ li').removeClass('show');\n    $(this).addClass('show');\n  })\n\n  $('.mapPopUp .list li').click(function() {\n    var thisVal = $(this).html();\n    $('.mapPopUp .list').find('.select').removeClass('select');\n    $(this).addClass('select')\n  })\n\n  function closeAdd() {\n    $('<button>', {\n      html: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\"><path fill=\"#939393\" d=\"M7.004 5.59l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95L.64 11.954l4.95-4.95-4.95-4.95L2.054.64z\"/></svg>',\n      class: 'fancybox-button fancybox-close-small CloseFancybox',\n      title: 'close'\n    }).appendTo('.fancybox-content').attr('data-fancybox-close', '');\n  }\n\n  $('[data-fancybox]').click(function() {\n    $.fancybox.close();\n    $('form')[0].reset();\n    $('[data-action=\"clear\"]').each(function() {\n      $(this).click();\n    });\n    $(this).attr('data-touch', 'false');\n    $(this).attr('data-modal', 'true');\n    $('.CloseFancybox').remove();\n    setTimeout(closeAdd, 100);\n  });\n\n  $(\".mapPopUp .mapSection .mapList\").mCustomScrollbar({\n    theme: \"MapListThm\",\n  });\n\n  $('.openShedule a').click(function() {\n    $(this).closest('.openShedule').toggleClass('active');\n    $(this).closest('.openShedule').next().toggleClass('show');\n  })\n\n});\n"],"file":"main.js"}